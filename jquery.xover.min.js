(function(d){var c=function(a,b,c){if("undefined"===typeof b)throw Error("Value can't be undefined");this.el=a;this.$el=d(a);this.options=c;this.value=d.trim(b);this.text=d.trim(this.$el.text())};c.prototype.init=function(){this.text!==this.value&&(this._changePos=this.getFirstChangePos(),this.writeEl(),this.writeTransformEl(),this.manipulateEl())};c.prototype.writeTransformEl=function(){var a=d("<span />",{"class":this.options.elTransition}),b;this.$el.append(a);for(b=this._changePos;b<this.value.length;b+=
1)d("<span/>",{"class":this.options.elClass,text:this.value[b]}).appendTo(a)};c.prototype.manipulateEl=function(){"undefined"!==typeof this._changePos&&(this.animateOldItems(),this.animateNewItems())};c.prototype.animateNewItems=function(){var a;a={"margin-left":"-"+(this.text.length-this._changePos)*this._elWidth+"px","margin-top":"-"+this.options.offset,display:"visible"};this.$el.children("span."+this.options.elTransition).css(a).animate({"margin-top":0},this.options.speed,function(){d(this).css({"margin-left":0}).children().unwrap()})};
c.prototype.animateOldItems=function(){var a=this.$el.children("span."+this.options.elClass),b;this._changePos&&(a=a.filter(":nth-child("+this._changePos+")").nextAll());b={top:this.options.offset,opacity:0};a.filter(":not(."+this.options.elTransition+")").animate(b,this.options.speed,function(){d(this).remove()})};c.prototype.getFirstChangePos=function(){for(var a=0;a<this.value.length;a+=1)if(this.text.length<a||this.value[a]!==this.text[a])return a;if(this.value.length<this.text.length)return this.value.length};
c.prototype.writeEl=function(){var a=d.trim(this.$el.text()),b=d(),c;for(c=0;c<a.length;c+=1)b=b.add("<span/>",{"class":this.options.elClass,text:a[c]});this.$el.html(b);this._elWidth=d(b[0]).width()};d.fn.xover=function(a,b){"object"===typeof a&&"undefined"===typeof b&&(b=a,a=option.value);b=d.extend({},d.fn.xover.options,b);return this.each(function(){(new c(this,a,b)).init()})};d.fn.xover.options={value:void 0,elClass:"xover-el",elChangeClass:"xover-change",elTransition:"xover-transition",speed:"slow",
offset:"10px"}})(jQuery);